// Generated by CoffeeScript 1.9.0
App.WatchesController = Ember.ArrayController.extend({
  actions: {
    showActivity: function(watch) {
      console.log('showActivity', watch);
      return this.transitionToRoute('activity', watch);
    }
  }
});

App.AddWatchComponent = Ember.Component.extend({
  errMsg: null,
  val: null,
  store: (function() {
    return this.container.lookup('store:main');
  }).property(),
  validate: function() {
    var id, self;
    id = this.get('val');
    if (!id || !id.length) {
      this.set('errMsg', 'Please enter an ID');
      return false;
    }
    self = this;
    return this.get('store').find('watch', {
      img_id: id
    }).then(function(records) {
      if (records.length) {
        return self.set('errMsg', 'ID already exists');
      }
    });
  },
  actions: {
    add: function() {
      return console.log(this.validate());
    }
  }
});
